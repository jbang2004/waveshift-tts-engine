# WaveShift TTS Engine - 环境变量配置模板
# 复制此文件为 .env 并填入实际的配置值

# ================================
# 阿里云配置
# ================================
# 阿里云访问密钥（用于镜像推送和函数部署）
ALIYUN_ACCESS_KEY_ID=your_aliyun_access_key_id
ALIYUN_ACCESS_KEY_SECRET=your_aliyun_access_key_secret

# 部署配置
REGION=cn-hangzhou
NAMESPACE=waveshift
IMAGE_NAME=waveshift-tts
IMAGE_TAG=latest
SERVICE_NAME=waveshift-tts
FUNCTION_NAME=tts-processor

# ================================
# Cloudflare配置
# ================================
# Cloudflare账户信息
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token

# Cloudflare D1数据库
CLOUDFLARE_D1_DATABASE_ID=your_d1_database_id

# Cloudflare R2存储
CLOUDFLARE_R2_ACCESS_KEY_ID=your_r2_access_key_id
CLOUDFLARE_R2_SECRET_ACCESS_KEY=your_r2_secret_access_key
CLOUDFLARE_R2_BUCKET_NAME=your_r2_bucket_name

# ================================
# AI模型配置
# ================================
# 翻译模型选择 (deepseek/gemini/grok/groq)
TRANSLATION_MODEL=deepseek

# DeepSeek API
DEEPSEEK_API_KEY=your_deepseek_api_key

# Gemini API（如果使用Gemini）
GEMINI_API_KEY=your_gemini_api_key

# XAI Grok API（如果使用Grok）
XAI_API_KEY=your_xai_api_key

# Groq API（如果使用Groq）
GROQ_API_KEY=your_groq_api_key

# ================================
# 音频处理配置
# ================================
# 音频分离
ENABLE_VOCAL_SEPARATION=true
VOCAL_SEPARATION_MODEL=Kim_Vocal_2.onnx
VOCAL_SEPARATION_OUTPUT_FORMAT=WAV
VOCAL_SEPARATION_SAMPLE_RATE=24000
VOCAL_SEPARATION_TIMEOUT=300

# 音频处理参数
BATCH_SIZE=20
TARGET_SPEAKER_AUDIO_DURATION=10
VAD_SR=16000
TARGET_SR=24000
VOCALS_VOLUME=0.7
BACKGROUND_VOLUME=0.3

# 文件管理
SAVE_TTS_AUDIO=false
CLEANUP_TEMP_FILES=true

# ================================
# 性能配置
# ================================
# TTS配置
TTS_BATCH_SIZE=3
SIMPLIFICATION_BATCH_SIZE=50
MAX_PARALLEL_SEGMENTS=1

# 内存管理
MEMORY_THRESHOLD_MB=3000
CLEANUP_INTERVAL=2

# ================================
# HLS配置
# ================================
ENABLE_HLS_STORAGE=true
HLS_STORAGE_BUCKET=hls-streams
CLEANUP_LOCAL_HLS_FILES=true
SEGMENT_MINUTES=5
MIN_SEGMENT_MINUTES=3

# ================================
# 日志配置
# ================================
LOG_LEVEL=INFO

# ================================
# 服务器配置（本地开发用）
# ================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8000

# ================================
# 获取配置信息指南
# ================================

# 1. 阿里云访问密钥:
#    - 登录阿里云控制台
#    - 访问 https://ram.console.aliyun.com/users
#    - 创建RAM用户并获取AccessKey

# 2. Cloudflare配置:
#    - 账户ID: 登录Cloudflare Dashboard，右侧边栏可找到
#    - API令牌: https://dash.cloudflare.com/profile/api-tokens
#    - D1数据库ID: 在D1控制台中查看数据库详情
#    - R2密钥: https://dash.cloudflare.com/profile/api-tokens

# 3. AI API密钥:
#    - DeepSeek: https://platform.deepseek.com/api_keys
#    - Gemini: https://aistudio.google.com/app/apikey
#    - Grok: https://console.x.ai/
#    - Groq: https://console.groq.com/keys

# ================================
# 安全注意事项
# ================================
# - 不要将 .env 文件提交到版本控制系统
# - 定期轮换API密钥
# - 使用最小权限原则配置访问权限
# - 在生产环境中使用专用的服务账号